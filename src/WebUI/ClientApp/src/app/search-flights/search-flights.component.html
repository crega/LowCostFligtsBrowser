<mat-card>
    <mat-card-header>
        <mat-card-title>Flights browser</mat-card-title>
        <mat-card-subtitle>Browse your low-cost flight in a moment!</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
        <div class=" row">
            <form mat-form [formGroup]="searchForm" class="col-md-12" (ngSubmit)="onSubmit()">
                <div class="col-md-12">
                    <mat-form-field class="col-md-3">
                        <input matInput placeholder="Enter departure IATA code" type="text"
                            (keypress)="keyPressAlphaNumeric($event)" formControlName="departureIATACodeFormControl"
                            [errorStateMatcher]="matcher">
                        <mat-error *ngIf="searchForm.controls.departureIATACodeFormControl.hasError('required')">
                            This field is <strong>required</strong>
                        </mat-error>

                        <mat-error *ngIf="searchForm.controls.departureIATACodeFormControl.hasError('maxlength')">
                            Max is <strong>3</strong> letters
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="col-md-3">
                        <input matInput placeholder="Enter arrival IATA code" type="text"
                            (keypress)="keyPressAlphaNumeric($event)" formControlName="arrivalIATACodeFormControl"
                            [errorStateMatcher]="matcher">
                        <mat-error *ngIf="searchForm.controls.arrivalIATACodeFormControl.hasError('required')">
                            This field is <strong>required</strong>
                        </mat-error>
                        <mat-error *ngIf="searchForm.controls.arrivalIATACodeFormControl.hasError('maxlength')">
                            Max is <strong>3</strong> letters
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="col-md-3">
                        <mat-label>Choose a departure date</mat-label>
                        <input matInput [matDatepicker]="departurePicker" formControlName="departureDateFormControl"
                            [errorStateMatcher]="matcher">
                        <mat-datepicker-toggle matSuffix [for]="departurePicker"></mat-datepicker-toggle>
                        <mat-datepicker #departurePicker></mat-datepicker>
                        <mat-error *ngIf="searchForm.controls.departureDateFormControl.hasError('required')">
                            This field is <strong>required</strong>
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="col-md-3">
                        <mat-label>Number of adults</mat-label>
                        <input matInput type="number" formControlName="numberOfAdultsFormControl"
                            [errorStateMatcher]="matcher" placeholder="Select a number" value="0">
                        <mat-error *ngIf="searchForm.controls.numberOfAdultsFormControl.hasError('required')">
                            This field is <strong>required</strong>
                        </mat-error>
                    </mat-form-field>

                </div>
                
                    <div class="col-md-12">
                        <mat-form-field class="col-md-3">
                            <input matInput placeholder="Enter currency. Example 'USD'" type="text"
                                (keypress)="keyPressAlphaNumeric($event)" formControlName="currencyFormControl"
                                [errorStateMatcher]="matcher">
                            <mat-error *ngIf="searchForm.controls.currencyFormControl.hasError('required')">
                                This field is <strong>required</strong>
                            </mat-error>
    
                            <mat-error *ngIf="searchForm.controls.currencyFormControl.hasError('maxlength')">
                                Max is <strong>3</strong> letters
                            </mat-error>
                        </mat-form-field>
                        <div class="col-md-3" >
                            <button style="padding-bottom: 10px;" mat-fab color="primary" type="submit"
                                [disabled]="!searchForm.valid">
                                <mat-icon>search</mat-icon>
                            </button>
                        </div>
                    </div>
                


                <div class="row">
                    <div class="col-md-12">
                        
                        <mat-accordion >
                           
                            <mat-expansion-panel hideToggle >

                         
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        Advanced search options
                                    </mat-panel-title>
                                    <mat-panel-description>
                                        Click to expand
                                    </mat-panel-description>
                                </mat-expansion-panel-header>

                                <div class="row">

                                    <mat-form-field class="col-md-4">
                                        <mat-label>Choose an arrival date</mat-label>
                                        <input matInput [matDatepicker]="arrivalPicker"
                                            formControlName="arrivalDateFormControl" [errorStateMatcher]="matcher">
                                        <mat-datepicker-toggle matSuffix [for]="arrivalPicker"></mat-datepicker-toggle>
                                        <mat-datepicker #arrivalPicker></mat-datepicker>
                                        <mat-error
                                            *ngIf="searchForm.controls.arrivalDateFormControl.hasError('dateNotAfter')">
                                            Arrival date <strong>must</strong> be greater than <strong>departure
                                                date</strong>
                                        </mat-error>
                                    </mat-form-field>

                                    <mat-form-field class="col-md-4">
                                        <mat-label>Number of children</mat-label>
                                        <input matInput type="number" formControlName="numberOfChildrenFormControl" [errorStateMatcher]="matcher"
                                             placeholder="Select a number" value="0">
                                    </mat-form-field>

                                    <mat-form-field class="col-md-4">
                                        <mat-label>Number of infants</mat-label>
                                        <input matInput type="number" formControlName="numberOfInfantsFormControl" [errorStateMatcher]="matcher"
                                            placeholder="Select a number" value="0">
                                    </mat-form-field>

                       

                                    <!-- <mat-form-field class="col-md-3">
                    <input matInput placeholder="Enter departure IATA code" #departureIATACode >
                </mat-form-field>
                <mat-form-field class="col-md-3">
                    <input matInput placeholder="Enter arrival IATA code" #arrivalIATACode >
                </mat-form-field>
           
                <mat-form-field class="col-md-3">
                    <mat-label>Number of adults</mat-label>
                    <input matInput type="number"  [errorStateMatcher]="matcher"
                           placeholder="Select a number" value="0">
                      <mat-error *ngIf="numberOfAdultsFormControl.hasError('required')">
                        This field is <strong>required</strong>
                      </mat-error>
                  </mat-form-field> -->

                                </div>
                            </mat-expansion-panel>

                        </mat-accordion>
                    </div>
                </div>
            </form>
        </div>
        <div class="row">
            <div class="col-md-12">
                <table mat-table class="mat-elevation-z8" [dataSource]="dataSource">

                    <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef>#</th>
                        <td mat-cell *matCellDef="let flightOffer">{{flightOffer.id}}</td>
                    </ng-container>
                    <ng-container matColumnDef="departureAirport">
                        <th mat-header-cell *matHeaderCellDef>Departure airport</th>
                        <td mat-cell *matCellDef="let flightOffer">{{flightOffer.departureAirport}}</td>
                    </ng-container>

                    <ng-container matColumnDef="arrivalAirport">
                        <th mat-header-cell *matHeaderCellDef>Arrival airport</th>
                        <td class="description-cell" mat-cell *matCellDef="let flightOffer">
                            {{flightOffer.arrivalAirport}}</td>
                    </ng-container>

                    <ng-container matColumnDef="dateOfDeparture">
                        <th mat-header-cell *matHeaderCellDef>Date of departure</th>
                        <td class="duration-cell" mat-cell *matCellDef="let flightOffer">{{flightOffer.dateOfDeparture | date: 'dd.MMM.yyyy HH:mm'}}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="dateOfArrival">
                        <th mat-header-cell *matHeaderCellDef>Date of arrival</th>
                        <td class="duration-cell" mat-cell *matCellDef="let flightOffer">{{flightOffer.dateOfArrival | date: 'dd.MMM.yyyy HH:mm'}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="numberOfItinerariesArrival">
                        <th mat-header-cell *matHeaderCellDef>Number of itineraries arrival</th>
                        <td class="duration-cell" mat-cell *matCellDef="let flightOffer">
                            {{flightOffer.numberOfItinerariesArrival}}</td>
                    </ng-container>

                    <ng-container matColumnDef="numberOfItinerariesDeparture">
                        <th mat-header-cell *matHeaderCellDef>Number of itineraries departure</th>
                        <td class="duration-cell" mat-cell *matCellDef="let flightOffer">
                            {{flightOffer.numberOfItinerariesDeparture}}</td>
                    </ng-container>

                    <ng-container matColumnDef="numberOfAdults">
                        <th mat-header-cell *matHeaderCellDef>Number of adults</th>
                        <td class="duration-cell" mat-cell *matCellDef="let flightOffer">{{flightOffer.numberOfAdults}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="numberOfChildren">
                        <th mat-header-cell *matHeaderCellDef>Number of children</th>
                        <td class="duration-cell" mat-cell *matCellDef="let flightOffer">
                            {{flightOffer.numberOfChildren}}</td>
                    </ng-container>
                    <ng-container matColumnDef="numberOfInfants">
                        <th mat-header-cell *matHeaderCellDef>Number of infants</th>
                        <td class="duration-cell" mat-cell *matCellDef="let flightOffer">{{flightOffer.numberOfInfants}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="price">
                        <th mat-header-cell *matHeaderCellDef>Price</th>
                        <td class="duration-cell" mat-cell *matCellDef="let flightOffer">{{flightOffer.price}}</td>
                    </ng-container>
                    <ng-container matColumnDef="currency">
                        <th mat-header-cell *matHeaderCellDef>Currency</th>
                        <td class="duration-cell" mat-cell *matCellDef="let flightOffer">{{flightOffer.currency}}</td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>


                </table>
            </div>
        </div>
    </mat-card-content>
</mat-card>